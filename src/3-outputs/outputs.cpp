/*******************************************************************************************************************************//**
 *
 * @file		DigitalOutputs.cpp
 * @brief		Descripcion del modulo
 * @date		12 jul. 2022
 * @author		Ing. Marcelo Trujillo
 *
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** INCLUDES
 **********************************************************************************************************************************/
#include "outputs.h"

/***********************************************************************************************************************************
 *** DEFINES PRIVADOS AL MODULO
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** MACROS PRIVADAS AL MODULO
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** TIPOS DE DATOS PRIVADOS AL MODULO
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** TABLAS PRIVADAS AL MODULO
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** VARIABLES GLOBALES PUBLICAS
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** VARIABLES GLOBALES PRIVADAS AL MODULO
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** IMPLEMENTACION DE LOS METODODS DE LA CLASE
 **********************************************************************************************************************************/

outputs::outputs( uint8_t puerto , uint8_t bit , uint8_t modo , uint8_t actividad , uint8_t estado ):
					gpio( puerto , bit , modo , gpio::output , actividad )
{
	m_buffer = estado;
	g_swhandler.push_back( this );
}

int8_t outputs::On ( void )
{
	m_buffer = gpio::on ;
	return ok;
}

int8_t outputs::Off ( void )
{
	m_buffer =  off ;
	return ok;
}

int8_t outputs::SetUp( void )
{
	SetDir();
	return ok;
}

outputs& outputs::operator= ( uint8_t estado )
{
	m_buffer =  estado ;
	return *this;
}

void outputs::SWhandler ( void )
{
	if ( m_buffer )
		SetPin( );
	else
		ClrPin( );
}
