/*******************************************************************************************************************************//**
 *
 * @file		digito.cpp
 * @brief		Descripcion del modulo
 * @date		17 ago. 2022
 * @author		Ing. Marcelo Trujillo
 *
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** INCLUDES
 **********************************************************************************************************************************/
#include "digito.h"

/***********************************************************************************************************************************
 *** DEFINES PRIVADOS AL MODULO
 **********************************************************************************************************************************/
#define	    	CERO				0b00111111
#define	    	UNO 				0b00000110
#define     	DOS 				0b01011011
#define     	TRES				0b01001111
#define	    	CUATRO				0b01100110
#define	    	CINCO				0b01101101
#define	    	SEIS				0b01111100
#define	    	SIETE				0b00000111
#define	    	OCHO				0b01111111
#define	    	NUEVE				0b01100111
#define	    	MENOS				0b01000000

/***********************************************************************************************************************************
 *** MACROS PRIVADAS AL MODULO
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** TIPOS DE DATOS PRIVADOS AL MODULO
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** TABLAS PRIVADAS AL MODULO
 **********************************************************************************************************************************/
const uint8_t Tabla_Digitos_BCD_7seg[] = {CERO,UNO,DOS,TRES,CUATRO,CINCO,SEIS,SIETE,OCHO,NUEVE};

/***********************************************************************************************************************************
 *** VARIABLES GLOBALES PUBLICAS
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** VARIABLES GLOBALES PRIVADAS AL MODULO
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** IMPLEMENTACION DE LOS METODODS DE LA CLASE
 **********************************************************************************************************************************/


digito::~digito() {
	// TODO Auto-generated destructor stub
}

bool digito::set( uint16_t valor)
{
	bool salida = 0;
	switch ( m_codigo )
	{
		case BCD:
			m_valor = valor & 0x000f;

			break;
		case ASCII:
			m_valor = valor + '0';
			break;
		case SEGMENTOS:
			m_valor = Tabla_Digitos_BCD_7seg[valor];
			break;
		default:
			salida = 1;
			break;
	}
	return salida;
}

uint8_t digito::get( void)
{
	return m_valor;
}

