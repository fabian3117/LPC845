/*******************************************************************************************************************************//**
 *
 * @file		display.h
 * @brief		Control de un display de 7 segmentos
 * @date		26 jul. 2022
 * @author		Gonzalez Federico
 *
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** MODULO
 **********************************************************************************************************************************/

#ifndef SRC_I0_DISPLAY7SEGMENTOS_DISPLAY_H_
#define SRC_I0_DISPLAY7SEGMENTOS_DISPLAY_H_

/***********************************************************************************************************************************
 *** INCLUDES GLOBALES
 **********************************************************************************************************************************/
#include "Gpio/gpio.h"
#include "swhandler.h"
#include "segmentos.h"
#include "barrido.h"
#include "digito.h"
#include "swhandler.h"
#include "gruposdedigitos.h"
#include <vector>

/***********************************************************************************************************************************
 *** DEFINES GLOBALES
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** MACROS GLOBALES
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** TIPO DE DATOS GLOBALES
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** VARIABLES GLOBALES
 **********************************************************************************************************************************/


/***********************************************************************************************************************************
 *** IMPLANTACION DE UNA CLASE
 **********************************************************************************************************************************/


// Esta fncion tiene que tener
// un barrido
// un segmentos
// 6 digitos
// configuracion
// heredar swhandler

class display7Segmentos : public swhandler
{
	vector <gruposdedigitos * > m_grupos;
	segmentos *m_seg ;
	barrido * m_dig ;
	uint8_t m_maxdigitos;
	uint8_t m_inx;
	uint8_t m_ticks;

	vector <digito * >m_bufferdisplay ;
	const uint8_t *m_PosicionRelativa;

	public:
		display7Segmentos( vector <gruposdedigitos * > g ,segmentos * s , barrido * b , const uint8_t *PosicionRelativa );
		void SWhandler ( );
		void Set( uint32_t valor , uint8_t dsp );

		virtual ~display7Segmentos();
};

#endif /* SRC_I0_DISPLAY7SEGMENTOS_DISPLAY_H_ */
